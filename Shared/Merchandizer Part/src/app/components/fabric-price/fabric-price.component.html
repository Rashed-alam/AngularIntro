<div class="container" style="font-size:14px;font-weight: 500;">
    <form name="mainform" (ngSubmit)="mainform.form.valid && onsubmit(FabPriService.currentEntry)" #mainform="ngForm" novalidate>
        
        <div class="row justify-content-md-center">
            <div class="col-6">
                <div class="card">
                        
                    <div class="card-header">
                            <p style="text-align: center;color: red;"><span>&#9755; Red Marked fields cannot be left empty. &#9754;</span></p>
                        <div class="row mt-2">
                            <div class="col-2">
                                <div class="row">
                                    <div class="col-4 pr-0">
                                        <div class="text-nowrap">
                                            ID:
                                        </div>
                                    </div>
                                    <div class="col-8 pl-1">
                                        <input type="text" placeholder="{{ autoID }}" class="w-100" readonly style="height: 90%" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-5">
                                <div class="row">
                                    <div class="col-4 pr-0">
                                        <div class="text-nowrap">
                                            Entry Date:
                                        </div>
                                    </div>
                                    <div class="col-8">
                                        <input type="text" style="width: 66%;height: 90%;" id="entryDate" name="FabPriService.currentEntry.entryDate" [(ngModel)]="FabPriService.currentEntry.entryDate" bsDatepicker [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }" #eDate="ngModel" readonly />
                                    </div>
                                </div>
                            </div>
                            <div class="col-5">
                                <div class="row">
                                    <div class="col-4 pr-0">
                                        <div class="text-nowrap">
                                            Mail Date:
                                        </div>
                                    </div>
                                    <div class="col-8 pl-1">
                                        <input type="text" id="mailDate" style="width: 66%;height: 90%;" name="FabPriService.currentEntry.mailDate" [(ngModel)]="FabPriService.currentEntry.mailDate" bsDatepicker [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }" #mailDate="ngModel" readonly />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-2">
                            <div class="col-8">
                                <div class="row">
                                    <div class="col-5 pr-0">
                                        <div class="text-nowrap">
                                            Reference Number:
                                        </div>
                                    </div>
                                    <div class="col-7 pl-1">
                                        <input type="text" id="refNo" class="" [disabled]="hiddingrefIdandStyleCode" placeholder="Reference Number" name="FabPriService.currentEntry.referenceId" [(ngModel)]="FabPriService.currentEntry.referenceId" #referenceId="ngModel" required class="w-100"
                                        />
                                    </div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="row">
                                    <div class="col-4 pr-0">
                                        <div class="text-nowrap">
                                            Size:
                                        </div>
                                    </div>
                                    <div class="col-8 pl-3">
                                        <select class="" id="size" name="FabPriService.currentEntry.size" [(ngModel)]="FabPriService.currentEntry.size" #size="ngModel" required class="w-100">
                      <option
                        value="{{ s.size_name }}"
                        *ngFor="let s of allSize"
                        >{{ s.size_name }}</option
                      >
                    </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-2">
                            <div class="col-3 pr-0">
                                <div class="text-nowrap">
                                    Buyer Information:
                                </div>
                            </div>
                            <div class="col-9">
                                <select class="" id="buyerName" name="FabPriService.currentEntry.buyerName" [(ngModel)]="FabPriService.currentEntry.buyerName" (click)="BuyerAddress($event.target.value)" #buyerName="ngModel" required class="w-100">
                  <option value="{{ b._id }}" *ngFor="let b of allBuyers" >{{
                    b.name
                  }}</option>
                </select>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-3 pr-0">
                                <div class="">
                                    Buyer Address:
                                </div>
                            </div>
                            <div class="col-9" *ngFor="let p of buyerAddressInfo,index as i">
                                {{p.house}}, {{p.road}}, {{p.sector}}
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col" style="border-right:5px solid; ">
                                <!-- <div class="card"> -->
                                <!-- <div class="card-body mr-0"> -->
                                <div class="fabricdiv">
                                    <h5>Fabric Calculation</h5>
                                    <div class="row">
                                        <div class="col"><label for="">Fabric type:</label></div>
                                        <div class="col">
                                            <select id="fabrics" name="FabPriService.currentEntry.fabricPriceInformation[0].fabricType" [(ngModel)]="
                                                    FabPriService.currentEntry.fabricPriceInformation[0]
                                                      .fabricType
                                                  " #fabrics="ngModel" required>
                                                  <option
                                                    value="{{ f.fabric_name }}"
                                                    *ngFor="let f of allFabricType"
                                                    >{{ f.fabric_name }}GSM</option
                                                  >
                                                </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col"><label for="">Style Code</label></div>
                                        <div class="col">
                                            <input type="text" class="" id="style_code" placeholder="Code" name="FabPriService.currentEntry.fabricPriceInformation[0].styleCode" style="text-transform: uppercase;height: 80%;" [(ngModel)]="
                                                      FabPriService.currentEntry.fabricPriceInformation[0]
                                                        .styleCode
                                                    " #styleCode="ngModel" style="direction: rtl;height: 80%;" required />
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col"><label for="">Item Name:</label></div>
                                        <div class="col">
                                            <select class="" id="itemName" name="FabPriService.currentEntry.fabricPriceInformation[0].itemName" [(ngModel)]="
                                                      FabPriService.currentEntry.fabricPriceInformation[0]
                                                        .itemName
                                                    " #itemName="ngModel" (click)="selectSwitch(itemName.value)" required>
                          <option
                            value="{{ i.itemName }}"
                            *ngFor="let i of allItems"
                            >{{ i.itemName }}</option
                          >
                        </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col"><label for="">Wastage:</label></div>
                                        <div class="col">
                                            <input type="number" class=""  style="direction: rtl;height: 80%;" id="inputEmail3" minlength="1" placeholder="%" name="FabPriService.currentEntry.fabricPriceInformation[0].wastePercentage" step="any" title="please enter number only" [(ngModel)]="
                            FabPriService.currentEntry.fabricPriceInformation[0]
                              .wastePercentage 
                          " (keyup)="calculation()" required />
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col"><label for="">Measure Unit</label></div>
                                        <div class="col">
                                            <select class="" name="FabPriService.currentEntry.fabricPriceInformation[0].unitOfMeasurement" title="please enter number only" [(ngModel)]="
                            FabPriService.currentEntry.fabricPriceInformation[0]
                              .unitOfMeasurement
                          " #unit (click)="setUnit(unit.value)" required>
                          <option value="cm" selected>Cm</option>
                          <option value="Inch">Inch</option>
                        </select>
                                        </div>
                                    </div>
                                    <div class="row" *ngIf="BoysTshirtSelected || JacketSelected">
                                        <div class="col"><label for="">Chest Size:</label></div>
                                        <div class="col">
                                            <input type="number" style="width: 60%;direction: rtl;" class="" id="chest" minlength="2" step="any" title="please enter number only" name="FabPriService.currentEntry.fabricPriceInformation[0].chestSize" (keyup)="calculation()" [(ngModel)]="
                            FabPriService.currentEntry.fabricPriceInformation[0]
                              .chestSize
                          " required /> <span>{{setMeasurementUnit}}</span>
                                        </div>
                                        
                                    </div>
                                    <div class="row" *ngIf="BoysTshirtSelected || JacketSelected">
                                        <div class="col"><label for="">Length Size:</label></div>
                                        <div class="col">
                                            <input type="number" class="" style="width: 60%;direction: rtl;"  id="length" minlength="2"  step="any" title="please enter number only" name="FabPriService.currentEntry.fabricPriceInformation[0].lengthSize" (keyup)="calculation()" [(ngModel)]="
                            FabPriService.currentEntry.fabricPriceInformation[0]
                              .lengthSize
                          " required /> <span>{{setMeasurementUnit}}</span>
                                        </div>
                                    </div>
                                    <div class="row" *ngIf="BoysTshirtSelected || JacketSelected">
                                        <div class="col"><label for="">Sleeve Size:</label></div>
                                        <div class="col">
                                            <input type="number" class="" id="inputPassword3" minlength="2" style="width: 60%;direction: rtl;"  step="any" title="please enter number only" required name="FabPriService.currentEntry.fabricPriceInformation[0].sleeveSize" (keyup)="calculation()"
                                                [(ngModel)]="
                            FabPriService.currentEntry.fabricPriceInformation[0]
                              .sleeveSize
                          " /> <span>{{setMeasurementUnit}}</span>
                                        </div>
                                    </div>
                                    <div class="row" *ngIf="CalculateButtonPressed">
                                        <div class="col" style="white-space: nowrap">
                                            <label for="">Fabric Weight:</label>
                                        </div>
                                        <div class="col ml-4 mr-3" style="background-color: yellow;border: 2px solid green;">
                                            {{ FabPriService.currentEntry.fabricPriceInformation[0] .fabricWeight }} kg/dozen
                                        </div>
                                    </div>
                                </div>
                                <!-- </div> -->
                                <!-- </div> -->
                            </div>
                            <div class="col">
                                <!-- <div class="card"> -->
                                <!-- <div class="card-body mr-0"> -->
                                <div class="pricediv">
                                    <h5>Price Calculation</h5>
                                    <div class="row">
                                        <div class="col-6"><label for="">Currency: </label></div>
                                        <div class="col-6">
                                            <select class="" name="FabPriService.currentEntry.fabricPriceInformation[0].currency" [(ngModel)]="FabPriService.currentEntry.fabricPriceInformation[0].currency" id="Currency" #cur (click)="setCurrency(cur.value)"  style="width: 70%" required>
                                          <!-- <option option selected>...</option>    -->
                                          <option value="{{ i.currencyName }}" selected *ngFor="let i of newcurrency" >
                                            {{ i.currencyName }}
                                            </option
                                          >
                                        </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-6" style="white-space: nowrap">
                                            <label for="">Fabric Unit Price:</label>
                                        </div>
                                        <div class="col-6">
                                            <input type="number" id="refNo" class="" name="FabPriService.currentEntry.fabricPriceInformation[0].fabricUnitPrice" step="any" title="please enter number only" [(ngModel)]="
                            FabPriService.currentEntry.fabricPriceInformation[0].fabricUnitPrice" style="width: 70%;direction: rtl;" required (keyup)="calculation()"/>
                            <span>{{setcurrency}}</span>
                                        </div>
                                    </div>
                                    <div class="row" *ngIf="CalculateButtonPressed">
                                        <div class="col-6" style="white-space: nowrap">
                                            <label for="">Fabric Total Price:</label>
                                        </div>
                                        <div class="col ml-3 mr-3" style="background-color: gray;border: 2px solid black;white-space: nowrap;color: azure" step="0.02">
                                            {{ FabPriService.currentEntry.fabricPriceInformation[0] .fabricTotalPrice }} 
                                            <span>{{setcurrency}}</span>
                                        </div>

                                    </div>
                                    <div class="row">
                                        <div class="col-6"><label for="">CM Price: </label></div>
                                        <div class="col-6">
                                            <input type="number" id="refNo" class="" step="any" (keyup)="calculation()" title="please enter number only" name="FabPriService.currentEntry.fabricPriceInformation[0].cmPrice"  [(ngModel)]="FabPriService.currentEntry.fabricPriceInformation[0].cmPrice"
                                                style="width: 70%;direction: rtl;" required>
                                                <span>{{setcurrency}}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-6"><label for="">RIM Price:</label></div>
                                        <div class="col-6">
                                            <input type="number" id="refNo" class="" (keyup)="calculation()" name="FabPriService.currentEntry.fabricPriceInformation[0].rimPrice" step="any" title="please enter number only" [(ngModel)]="FabPriService.currentEntry.fabricPriceInformation[0].rimPrice"
                                                style="width: 70%;direction: rtl;"required>
                                                <span>{{setcurrency}}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-6"><label for="">TRIM Price:</label></div>
                                        <div class="col-6">
                                            <input type="number" id="refNo" style="width: 70%;direction: rtl;" (keyup)="calculation()" name="FabPriService.currentEntry.fabricPriceInformation[0].trimPrice" step="any" title="please enter number only" [(ngModel)]="FabPriService.currentEntry.fabricPriceInformation[0].trimPrice"
                                                required>
                                                <span>{{setcurrency}}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-6"><label for="">DOC Price:</label></div>
                                        <div class="col-6">
                                            <input type="number" id="refNo" class="" style="width: 70%;direction: rtl;" (keyup)="calculation()" name="FabPriService.currentEntry.fabricPriceInformation[0].docPrice" step="any" title="please enter number only" [(ngModel)]="FabPriService.currentEntry.fabricPriceInformation[0].docPrice"
                                                required>
                                                <span>{{setcurrency}}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-6"><label for="">PRINT Price:</label></div>
                                        <div class="col-6">
                                            <input type="number" id="refNo" class="" style="width: 70%;direction: rtl;" (keyup)="calculation()" name="FabPriService.currentEntry.fabricPriceInformation[0].printPrice" step="any" title="please enter number only" [(ngModel)]="FabPriService.currentEntry.fabricPriceInformation[0].printPrice"
                                                required><span>{{setcurrency}}</span>
                                        </div>
                                    </div>
                                    
                                    <div class="row" *ngIf="CalculateButtonPressed">
                                        <div class="col-6" style="white-space: nowrap">
                                            <label for="">Per Unit Price:</label>
                                        </div>
                                        <div class="col ml-3 mr-3" style="background-color: yellow;border: 2px solid green;white-space: nowrap" step="0.02">
                                            {{ FabPriService.currentEntry.fabricPriceInformation[0] .perUnitPrice }} 
                                            <span>{{setcurrency}}</span>
                                        </div>
                                    </div>
                                    <div class="row" *ngIf="CalculateButtonPressed">
                                        <div class="col-6" style="white-space: nowrap">
                                            <label for="">Per Dozen Price:</label>
                                        </div>
                                        <div class="col ml-3 mr-3" style="background-color: yellow;border: 2px solid green;white-space: nowrap;" step="0.02">
                                            {{ FabPriService.currentEntry.fabricPriceInformation[0] .perDozenPrice }} 
                                            <span>{{setcurrency}}</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- </div> -->
                                <!-- </div> -->
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="row" style="margin-top:0rem;margin-bottom:0rem;">
                            <div class="col-2"> </div>
                            <!-- <div class="col ml-5 ">
                            </div>
                            <div class="col ml-1">
                            </div> -->
                            <div class="col-8">
                                <button type="submit" class="btn btn-success ml-4 mr-2" [disabled]="mainform.form.pristine || mainform.form.invalid">Submit</button>
                                <button type="button" class="btn btn-danger mr-2 ml-3" (click)="clearAll()">Clear All</button>
                                <button type="button" class="btn btn-primary ml-3">Report</button>



                            </div>

                            <div class="col-2"> </div>
                        </div>
                        <br>
                        <div class="alert alert-success" role="alert" *ngIf="showsuccessmessageforsubmitting" style="align-content: center">
                            Entry Created successfully.
                        </div>

                        <div class="alert alert-success" role="alert" *ngIf="showeditmessage" style="align-content: center">
                            Entry Edited successfully. Data Saved.
                        </div>
                        <div class="alert alert-danger" role="alert" *ngIf="serverErrorMessages" style="align-content: center">
                            Something went wrong, try again later. Thank you.
                        </div>
                        <div class="alert alert-danger" role="alert" *ngIf="showdeletemessage" style="align-content: center;">
                            Entry Deleted.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
<br>
<br>
<br>
<br>
<hr>
<div class="container">
    <div class="row justify-content-md-center">

        <div class="col-md-auto">
            <h3 style="text-align: center;">Entry Lists</h3>
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <div class="mr-2">Search by Reference:</div>
                </div>
                <select class="" (change)="SearchByReference($event.target.value)">
                           <option option selected></option>   
                          <option value="{{i}}" *ngFor="let i of allReference"> {{i}}</option>
                      </select>
            </div>
        </div>
        <table class="table table-bordered">

            <thead>
                <tr>
                    <th scope="col">No.</th>
                    <th scope="col">Ref-ID</th>
                    <th scope="col">Style Code</th>
                    <th scope="col">Fabric amount<br>(kg/dozen)</th>
                    <th scope="col">Fabric Unit Price</th>
                    <th scope="col">Fabric total Price</th>
                    <!-- <th scope="col">RIB</th>
                    <th scope="col">CM</th>
                    <th scope="col">TRIM</th>
                    <th scope="col">Print</th>
                    <th scope="col">DOC</th> -->
                    <th scope="col">Price<br>(per dozen)</th>
                    <th scope="col">Price<br>(Per Unit)</th>

                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let p of entryShowList,index as i">
                    <td>{{i+1}}</td>
                    <td>{{p.referenceId}}</td>
                    <td>{{p.styleCode}}</td>
                    <td>{{p.fabricWeight}}</td>
                    <td>{{p.fabricUnitPrice}}</td>
                    <td>{{p.fabricTotalPrice}}</td>
                    <!-- <td>{{p.rimPrice}}</td>
                    <td>{{p.cmPrice}}</td>
                    <td>{{p.trimPrice}}</td>
                    <td>{{p.printPrice}}</td>
                    <td>{{p.docPrice}}</td> -->
                    <td>{{p.perDozenPrice}}</td>
                    <td>{{p.perUnitPrice}}</td>
                    <td>
                        <a class="btn text-success" (click)="onedit(p)">
                            <i class="fa fa-edit"></i>
                        </a>

                    </td>

                    <td>
                        <a class="btn text-danger" (click)="ondelete(p)">
                            <i class="fa fa-trash"></i>
                        </a>
                    </td>

                </tr>

            </tbody>
        </table>
    </div>

</div>
<hr>